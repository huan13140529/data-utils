import{aH as r,ao as f,aM as d,az as m,q as v,r as u,z as p,bs as _,y}from"./index-9d5be2bc.js";const h={class:"app-container"},E={style:{"margin-bottom":"8px"}},k={__name:"HlsVideo",setup(V){const a=r(),n=r("http://122.192.255.50:7086/live/cameraid/1000252%240/substream/1.m3u8");let e;const c=s=>{const t=a.value;typeof e<"u"&&e!=null&&e.destroy(),e=new Hls,e.loadSource(s),e.attachMedia(t),e.on(Hls.Events.MANIFEST_PARSED,function(){t.play(),emit("changeIsPlay",!0)}),e.on(Hls.Events.ERROR,function(l,o){o.fatal&&o.type!=="networkError"&&(t.pause(),emit("changeIsPlay",!1))})};return f(()=>{typeof e<"u"&&e.destroy()}),(s,t)=>{const l=d("el-input"),o=d("el-button");return m(),v("div",h,[u("div",E,[p(l,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value=i),style:{width:"70%"}},null,8,["modelValue"]),p(o,{onClick:t[1]||(t[1]=i=>c(n.value)),style:{"margin-left":"8px"}},{default:_(()=>[y("播放")]),_:1})]),u("video",{id:"hls",width:"1000",height:"600",class:"img-responsive video-js vjs-default-skin",controls:"",preload:"auto",autoplay:"true",ref_key:"videoRef",ref:a},null,512)])}}};export{k as default};
