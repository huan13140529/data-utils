import{aH as r,ao as c,aM as d,az as f,q as v,r as p,z as u,bs as _,y}from"./index-7a0dfed4.js";const h={class:"app-container"},g={style:{"margin-bottom":"8px"}},V={__name:"HlsVideo",setup(x){const a=r(),n=r("https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_fmp4/master.m3u8");let e;const m=s=>{const t=a.value;typeof e<"u"&&e!=null&&e.destroy(),e=new Hls,e.loadSource(s),e.attachMedia(t),e.on(Hls.Events.MANIFEST_PARSED,function(){t.play(),emit("changeIsPlay",!0)}),e.on(Hls.Events.ERROR,function(l,o){o.fatal&&o.type!=="networkError"&&(t.pause(),emit("changeIsPlay",!1))})};return c(()=>{typeof e<"u"&&e.destroy()}),(s,t)=>{const l=d("el-input"),o=d("el-button");return f(),v("div",h,[p("div",g,[u(l,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value=i),style:{width:"70%"}},null,8,["modelValue"]),u(o,{onClick:t[1]||(t[1]=i=>m(n.value)),style:{"margin-left":"8px"}},{default:_(()=>[y("播放")]),_:1})]),p("video",{id:"hls",width:"1000",height:"600",class:"img-responsive video-js vjs-default-skin",controls:"",preload:"auto",autoplay:!0,muted:"",ref_key:"videoRef",ref:a},null,512)])}}};export{V as default};
