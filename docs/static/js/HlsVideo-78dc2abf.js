import{e as d,z as c,ag as r,o as f,c as v,a as p,U as u,O as _,S as y}from"./@vue-59822d27.js";const g={class:"app-container"},h={style:{"margin-bottom":"8px"}},V={__name:"HlsVideo",setup(x){const s=d(),n=d("https://devstreaming-cdn.apple.com/videos/streaming/examples/img_bipbop_adv_example_fmp4/master.m3u8");let e;const m=a=>{const t=s.value;typeof e<"u"&&e!=null&&e.destroy(),e=new Hls,e.loadSource(a),e.attachMedia(t),e.on(Hls.Events.MANIFEST_PARSED,function(){t.play(),emit("changeIsPlay",!0)}),e.on(Hls.Events.ERROR,function(l,o){o.fatal&&o.type!=="networkError"&&(t.pause(),emit("changeIsPlay",!1))})};return c(()=>{typeof e<"u"&&e.destroy()}),(a,t)=>{const l=r("el-input"),o=r("el-button");return f(),v("div",g,[p("div",h,[u(l,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=i=>n.value=i),style:{width:"70%"}},null,8,["modelValue"]),u(o,{onClick:t[1]||(t[1]=i=>m(n.value)),style:{"margin-left":"8px"}},{default:_(()=>[y("播放")]),_:1})]),p("video",{id:"hls",width:"1000",height:"600",class:"img-responsive video-js vjs-default-skin",controls:"",preload:"auto",autoplay:!0,muted:"",ref_key:"videoRef",ref:s},null,512)])}}};export{V as default};
