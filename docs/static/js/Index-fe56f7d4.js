import{R as ee}from"./@element-plus-0a425379.js";import{J as te}from"./vue-json-viewer-effdbe32.js";import{E as T}from"./element-plus-e5949d74.js";import{e as u,Z as q,ag as n,o as g,M as k,O as t,U as e,S as x,c as F,F as z,a7 as G,a as A,j as oe,u as N,R as P,T as le,n as ae}from"./@vue-59822d27.js";import{u as ne}from"./vue-router-7c841144.js";import{C as c}from"./crypto-js-e8446136.js";import{_ as re}from"./plugin-vueexport-helper-c27b6911.js";import"./clipboard-c35e1794.js";import"./vue-9871d8d9.js";import"./lodash-es-21c98b27.js";import"./@vueuse-9e7d8ec8.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-a36a02e4.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-73e01a0a.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-432baded.js";const se={__name:"SettingDrawer",emits:["success","close"],setup(w,{expose:f,emit:_}){const d=_,a=u(!1),y=u("rtl"),o=q({projectId:localStorage.getItem("defaultProjectId")||"0",autoClean:localStorage.getItem("autoClean")==="true"||!1,autoCrypt:localStorage.getItem("autoCrypt")==="true"||!1,expandLevel:localStorage.getItem("expandLevel")||"5",modeType:localStorage.getItem("modeType")||"1"}),I=u([]),v=localStorage.getItem("tableData");v?I.value=JSON.parse(v):T({message:"未配置解密，暂时不能设置默认的解密项目",type:"warning",showClose:!0});const V=()=>{a.value=!1,d("close")};f({handleOpen:()=>{a.value=!0}});const r=()=>{const{projectId:D,autoClean:s,expandLevel:h,modeType:j,autoCrypt:C}=o;localStorage.setItem("defaultProjectId",D),localStorage.setItem("autoClean",s),localStorage.setItem("autoCrypt",C),localStorage.setItem("expandLevel",h),localStorage.setItem("modeType",j),d("success"),a.value=!1,T({message:"配置成功，刷新后生效",type:"success",showClose:!0}),location.reload()};return(D,s)=>{const h=n("el-option"),j=n("el-select"),C=n("el-form-item"),O=n("el-switch"),S=n("el-radio"),U=n("el-radio-group"),R=n("el-form"),K=n("el-button"),$=n("el-drawer");return g(),k($,{modelValue:a.value,"onUpdate:modelValue":s[5]||(s[5]=p=>a.value=p),title:"解密配置",direction:y.value,"before-close":V},{footer:t(()=>[e(K,{type:"primary",onClick:r},{default:t(()=>[x("确定")]),_:1}),e(K,{onClick:V},{default:t(()=>[x("取消")]),_:1})]),default:t(()=>[e(R,{model:o,"label-width":"120px","label-position":"top"},{default:t(()=>[e(C,{label:"1.设置默认加解密的项目"},{default:t(()=>[e(j,{modelValue:o.projectId,"onUpdate:modelValue":s[0]||(s[0]=p=>o.projectId=p),placeholder:"选择项目"},{default:t(()=>[(g(!0),F(z,null,G(I.value,p=>(g(),k(h,{key:p.projectId,label:p.projectName,value:p.projectId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(C,{label:"2.点击左侧输入框，是否自动清除内容"},{default:t(()=>[e(O,{modelValue:o.autoClean,"onUpdate:modelValue":s[1]||(s[1]=p=>o.autoClean=p),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(C,{label:"3.左侧输入框有变化后，是否自动加解密"},{default:t(()=>[e(O,{modelValue:o.autoCrypt,"onUpdate:modelValue":s[2]||(s[2]=p=>o.autoCrypt=p),"active-text":"是","inactive-text":"否"},null,8,["modelValue"])]),_:1}),e(C,{label:"4.解密后的树状结构，默认展开几级"},{default:t(()=>[e(U,{modelValue:o.expandLevel,"onUpdate:modelValue":s[3]||(s[3]=p=>o.expandLevel=p)},{default:t(()=>[e(S,{label:"1"}),e(S,{label:"2"}),e(S,{label:"3"}),e(S,{label:"4"}),e(S,{label:"5"}),e(S,{label:"8"})]),_:1},8,["modelValue"])]),_:1}),e(C,{label:"5.当前模式"},{default:t(()=>[e(U,{modelValue:o.modeType,"onUpdate:modelValue":s[4]||(s[4]=p=>o.modeType=p)},{default:t(()=>[e(S,{label:"1"},{default:t(()=>[x("解密")]),_:1}),e(S,{label:"2"},{default:t(()=>[x("加密")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","direction"])}}},pe=A("span",null,"你还没配置解密项目，建议您先去配置，配置好之后，下次就可以直接使用了",-1),ce={class:"dialog-footer"},ue={__name:"tips",emits:["close"],setup(w,{emit:f}){const _=ne(),d=f,a=u(!0),y=()=>{a.value=!1,d("close")},o=()=>{_.push({path:"/setting"})};return(I,v)=>{const V=n("el-button"),J=n("el-dialog");return g(),k(J,{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=r=>a.value=r),title:"系统提示",width:"30%","before-close":y},{footer:t(()=>[A("span",ce,[e(V,{onClick:v[0]||(v[0]=r=>a.value=!1)},{default:t(()=>[x("暂不配置")]),_:1}),e(V,{type:"primary",onClick:o},{default:t(()=>[x("去配置")]),_:1})])]),default:t(()=>[pe]),_:1},8,["modelValue"])}}},H=c.enc.Utf8.parse("icqhqob88gdt6yda"),Q=c.enc.Utf8.parse("6wn7og8n11cvr22n");function Z(w,f,_){let d=H,a=Q;f&&(d=c.enc.Utf8.parse(f),a=c.enc.Utf8.parse(_));const y=c.enc.Base64.parse(w),o=c.enc.Base64.stringify(y);return c.AES.decrypt(o,d,{iv:a,mode:c.mode.CBC,padding:c.pad.Pkcs7}).toString(c.enc.Utf8).toString()}function de(w,f,_){let d=H,a=Q;f&&(d=c.enc.Utf8.parse(f),a=c.enc.Utf8.parse(_));const y=c.enc.Utf8.parse(w),o=c.AES.encrypt(y,d,{iv:a,mode:c.mode.CBC,padding:c.pad.Pkcs7});return c.enc.Base64.stringify(o.ciphertext)}const ie={class:"app-container"},me={class:"crack-box"},fe={__name:"Index",setup(w){console.log("加解密娃哈哈");const f=u(!0),_=u(),d=u(!1),a=u([]),y=u(!1),o=u(),I=localStorage.getItem("modeType")==2?u("请输入需要解密的内容"):u("请在左侧输入密文/JSON对象"),v=u(localStorage.getItem("expandLevel")||"5"),V=localStorage.getItem("modeType")||"1",J=oe(()=>localStorage.getItem("modeType")==2?"请输入需要加密的内容":`请输入密文/JSON对象
【支持JSON对象】
【支持JSON对象】
【支持JSON对象】
【密文/JSON对象两种格式】`),r=q({projectId:"",cryptKey:"",cryptIv:""}),D=q({cryptKey:[{required:!0,message:"请输入key值",trigger:"blur"}],cryptIv:[{required:!0,message:"请输入key值",trigger:"blur"}]}),s=async m=>{m&&await m.validate((l,b)=>{l&&(V==1?h():j())})},h=()=>{if(!o.value)return T({message:"请先输入密文/JSON对象",type:"warning",showClose:!0}),!1;if(o.value.includes("{"))I.value=JSON.parse(o.value);else{const{cryptKey:m,cryptIv:l}=r,b=o.value.replace(/\s+/g,"");if(!Z(b,m,l))return T({message:"别逗，输入正常一点的加密JSON字符串",type:"error",showClose:!0}),!1;I.value=JSON.parse(Z(b,m,l))}},j=()=>{if(!o.value)return T({message:"请先输入需要加密的内容",type:"warning",showClose:!0}),!1;const{cryptKey:m,cryptIv:l}=r;I.value=de(JSON.stringify(o.value),m,l)},C=u(),O=m=>{const l=localStorage.getItem("tableData");l?a.value=JSON.parse(l):y.value=!0;const b=a.value.find(B=>B.projectId==m);b&&(r.projectId=m,r.cryptKey=b.key,r.cryptIv=b.iv)};(()=>{const m=localStorage.getItem("defaultProjectId")||"0";O(m)})();const U=u(),R=()=>{d.value=!0,ae(()=>{U.value.handleOpen()})},K=()=>{f.value=!1},$=()=>{localStorage.getItem("autoClean")==="true"&&(o.value=null)},p=()=>{localStorage.getItem("autoCrypt")==="true"&&s(_.value)};return(m,l)=>{const b=n("el-option"),B=n("el-select"),L=n("el-form-item"),E=n("el-input"),M=n("el-button"),W=n("el-form"),Y=n("el-col"),X=n("el-row");return g(),F("div",ie,[e(W,{inline:!0,model:r,ref_key:"formDataRef",ref:_,rules:D},{default:t(()=>[e(L,{label:"项目",prop:"projectId"},{default:t(()=>[e(B,{modelValue:r.projectId,"onUpdate:modelValue":l[0]||(l[0]=i=>r.projectId=i),placeholder:"项目",onChange:O,style:{width:"100px"}},{default:t(()=>[(g(!0),F(z,null,G(a.value,i=>(g(),k(b,{key:i.projectId,label:i.projectName,value:i.projectId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(L,{label:"key值",prop:"cryptKey"},{default:t(()=>[e(E,{modelValue:r.cryptKey,"onUpdate:modelValue":l[1]||(l[1]=i=>r.cryptKey=i),placeholder:"请输入key值",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(L,{label:"iv",prop:"cryptIv"},{default:t(()=>[e(E,{modelValue:r.cryptIv,"onUpdate:modelValue":l[2]||(l[2]=i=>r.cryptIv=i),placeholder:"请输入iv值",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),e(L,null,{default:t(()=>[e(M,{type:"primary",onClick:l[3]||(l[3]=i=>s(_.value))},{default:t(()=>[x(le(N(V)==2?"加密":"解密"),1)]),_:1}),e(M,{type:"primary",plain:"",icon:N(ee),onClick:R},{default:t(()=>[x("设置")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"]),e(X,{gutter:8},{default:t(()=>[e(Y,{span:12},{default:t(()=>[e(E,{modelValue:o.value,"onUpdate:modelValue":l[4]||(l[4]=i=>o.value=i),rows:28,type:"textarea",placeholder:J.value,onFocus:$,onInput:p},null,8,["modelValue","placeholder"])]),_:1}),e(Y,{span:12},{default:t(()=>[A("div",me,[f.value?(g(),k(N(te),{key:0,value:N(I),"expand-depth":v.value,copyable:""},null,8,["value","expand-depth"])):P("",!0)])]),_:1})]),_:1}),d.value?(g(),k(N(se),{key:0,ref_key:"settingRef",ref:U,onSuccess:K,onClose:l[5]||(l[5]=i=>d.value=!1)},null,512)):P("",!0),y.value?(g(),k(ue,{key:1,ref_key:"tipRef",ref:C,onClose:l[6]||(l[6]=i=>y.value=!1)},null,512)):P("",!0)])}}},De=re(fe,[["__scopeId","data-v-3aba19cd"]]);export{De as default};
